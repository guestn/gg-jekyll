<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
	<link href="assets/all.css" rel="stylesheet" type="text/css">

	<script src="//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.3.0/snap.svg-min.js"></script>
	<script src="js/three.min.js"></script>
	<script src="js/OBJLoader.min.js"></script>

</head>
<body>


	<header><img src="//www.guestandguest.com/images/gg_guestandguest-txt_logo.png"/>
		<svg viewBox="0 0 100 246" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.4" preserveAspectRatio="none">
			<path d="M0 0l16.3 85.2 15 43L48.8 246l18.4-24L100 0H0z" fill="rgba(0,0,0,0.02)"/>
			<path d="M0 0l16.2 50.2 14.6 38 18 82.2 18.6-17.6L100 0H0z" fill="#fff"/>
		</svg>

	</header>

	<canvas id="index-canvas" width="1000" height="800"></canvas>
	<img id="finger" src="https://openclipart.org/image/2400px/svg_to_png/203413/pointing-finger-right.png">
	<span>interesting line of text</span>
	<div class="spacer"></div>

	<section class="page" id="portfolio">
		<div class="gallery-container">
			<canvas id="gallery-canvas" width="1000" height="800"></canvas>
				<div id="slider" class="slide-1">
				<section class="slide active-slide" id="slide-1">
						<h2>1</h2>
						<img src="http://www.guestandguest.com/images/pf/blackcordon-pf3.png">
						<div class="gallery-text">
							These Californian winemakers had a tricky problem- they'd found that existing websites for high-end wines from the region sometimes appeared elitist and unfriendly, and this was not the image they wanted to convey for their brand. The site had to convey the high-quality, luxury product of which they were proud, yet feel approachable and friendly to visitors. The dark colours and gold text mirror the beautiful bottle label, and the homepage background gives a sense of context for the product. Clicking the homepage links brings up a translucent overlay window in which the content is displayed elegantly.
 Custom photography and homepage background
 Auto-hide footer menu
 Fully responsive - for smartphones, tablet and desktop
Smooth animated content pages
 HTML5 · CSS3 · JQuery · Ajax
www.blackcordon.com
						</div>
						<svg viewBox="0 0 54 54" width="100" height="54" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="square">
							<path d="M26.8 13.8L28 15v12.2l-7.4 7.2-7.5-7.2V15l7.6-7 3.2 3" fill="none" stroke-width="1" stroke="#fff" transform="rotate(45 22.075 16.775) scale(1.58594 1.66867)"/>
							<path d="M26.8 13.8L28 15v12.2l-7.4 7.2-7.5-7.2V15l7.6-7 3.2 3" fill="none" stroke-width="1" stroke="#fff" transform="rotate(-135 31.366 24.893) scale(1.58594 1.66867)"/>
					</svg>
					</section>
					<section class="slide" id="slide-2">
						<h2>2</h2>
						<img src="assets/images/portfolio/grahamortho-1.jpg">
						<div class="gallery-text">
							These Californian winemakers had a t
 							HTML5 · CSS3 · JQuery · Ajax
							www.grahamortho.com
						</div>
					</section>
					<section class="slide" id="slide-3">
						<h2>3</h2>
						<img src="http://www.guestandguest.com/images/pf/blackcordon-pf3.png">
					</section>
				</div>
				<a class="gallery-container-toggle">
					<svg viewBox="0 0 54 54" width="54" height="54" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
						<polyline points="5,10 52,42" fill="none" stroke="white" stroke-width="2"	/>
						<polyline points="2,52 50,2" fill="none" stroke="white" stroke-width="2"	/>
						<circle cx="2" cy="52" r="2" fill="white"/>
						<circle cx="50" cy="2" r="2" fill="white"/>
						<circle cx="5" cy="10" r="2" fill="white"/>
						<circle cx="52" cy="42" r="2" fill="white"/>
					</svg>
				</a>
				<a class="nav" id="nav-prev">
					<span>PREVIOUS</span>
					<svg viewBox="0 0 100 54" width="100" height="54" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
						<polyline points="2,52 50,2 98,52" fill="none" stroke="white" stroke-width="2"	/>
						<circle cx="2" cy="52" r="2" fill="white"/>
						<circle cx="50" cy="2" r="2" fill="white"/>
						<circle cx="98" cy="52" r="2" fill="white"/>
					</svg>
				</a>
				<a class="nav" id="nav-next">
					<span>NEXT</span>
					<svg viewBox="0 0 100 55" width="100" height="54" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
						<polyline points="2,2 50,50 98,2" fill="none" stroke="white" stroke-width="2"	/>
						<circle cx="2" cy="2" r="2" fill="white"/>
						<circle cx="50" cy="50" r="2" fill="white"/>
						<circle cx="98" cy="2" r="2" fill="white"/>
					</svg>
				</a>

		</div>

	</section>


	<div class="menu-container">
		<a id="menu-container-close">
			<svg viewBox="0 0 54 54" width="54" height="54" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
				<polyline points="5,10 52,42" fill="none" stroke="white" stroke-width="2"	/>
				<polyline points="2,52 50,2" fill="none" stroke="white" stroke-width="2"	/>
				<circle cx="2" cy="52" r="2" fill="white"/>
				<circle cx="50" cy="2" r="2" fill="white"/>
				<circle cx="5" cy="10" r="2" fill="white"/>
				<circle cx="52" cy="42" r="2" fill="white"/>
			</svg>
		</a>
  	<svg id="menu"></svg>

		<ul id="menu-list">
			<li><a href="#home">Home</a></li>
			<li><a href="#portfolio">A selection of work</a></li>
			<li><a href="#">What we do</a></li>
			<li><a href="#">Contact</a></li>
		</ul>


  	<img id="menu-img" src="//static.pexels.com/photos/3182/dark-mountain.jpeg"/>

  	<div class="menu-icon">
			<span class="stripe"></span>
			<span class="stripe"></span>
			<span class="stripe"></span>
		</div>
	</div>


	<footer>
		<form >
			<label for="input-name">
				<input type="text" id="input-name" placeholder="Enter your name..."/>
			</label>
			<label for="input-email">
				<input type="email" id="input-email" placeholder="your email..."/>
			</label>
			<label for="input-message">
				<textarea id="input-message" placeholder="and your message. Thanks!"></textarea>
			</label>
		</form>

	</footer>


<script src="js/geoJelly.js"></script>
<script>
geoJelly('rgba(255,255,255,0.5)', 'rgba(255,255,255,0.5)', '#index-canvas');


</script>

<script>

// menu //
s6 = [1000, 0,    1000, 750,    0, 750,   0, 700,      0 ,510,   0, 410,   0, 0,   1000, 0]
s5 = [1000, 0,    1000, 750,    73, 750,  92,636,      20, 452,  0, 322,   0, 0,   1000, 0]
s4 = [1000, 0,    1000, 750,    309, 750,  233,527,    83, 265,  82, 263,  125, 0,  1000, 0]
s3 = [1000, 0,    1000, 750,   500, 750,  354, 588,   301, 263,  281, 220,   150,0,  1000, 0]
s2 = [1000, 52,   1000, 750,   659, 698,  500, 497,   569, 375,  635, 116,  700,50,  1000, 22]
s1 = [1000, 52,   1000, 750,   856, 544,  692, 497,   765, 252,  796, 122,  900, 100,  1000, 52]
//s0 = [1000, 52,   1000, 698,    976, 516, 957, 375,    973, 253, 985, 167, 990, 120,  1000, 52]
s0 = [1000, 300,   1000, 480,    976, 435,  957, 375,    970, 330, 980, 320,  990, 310,  1000, 300]


var s = Snap('#menu');
s.attr({preserveAspectRatio: 'none',viewBox:'0 0 1000 750'});
var poly = s.polygon(s0);
poly.attr({ /*fill:'url(#img1)'*/ fill: '#333'})

var type = mina.linear
var dur = 140

var frames = [
  { animation: { points: s0 }, dur: dur },
  { animation: { points: s1 }, dur: dur },
  { animation: { points: s2 }, dur: dur },
  { animation: { points: s3  }, dur: dur },
  { animation: { points: s4  }, dur: dur },
  { animation: { points: s5  }, dur: dur },
  { animation: { points: s6  }, dur: dur }
];


function nextFrame ( el, frameArr, n ) {

   if( n >= frameArr.length ) {
     activateMenuItems();
     menuInProgress();
     return;
   }
   el.animate( frameArr[n].animation, frameArr[n].dur, nextFrame.bind( null, el, frameArr, n + 1 ) );
}
function lastFrame ( el, frameArr, n ) {
   if( n < 0 ) { return }
   el.animate( frameArr[n].animation, frameArr[n].dur, lastFrame.bind( null, el, frameArr, n - 1 ));
}


var menuImg = document.getElementById('menu-img');


function menuInProgress() {
	 document.body.classList.toggle('animating');
}

function activateMenuItems() {
  	document.body.classList.toggle('activated');
}

document.querySelector('.menu-icon').addEventListener('click', function(){
  nextFrame(poly, frames, 0);
})

document.getElementById('menu-container-close').addEventListener('click', function(){
	 lastFrame(poly, frames, 5);
	 activateMenuItems();
	 menuInProgress();
})

// menu clicks //
var menuItems = document.querySelectorAll('#menu-list li a');
for (var i=0; i < menuItems.length; i++) {
	menuItems[i].addEventListener('click',onMenuPress)
}
function onMenuPress(e) {
	e.preventDefault();

	e = e ? e : window.e;
	var target = e.target.hash.slice(1);
	console.log(target)

	if (target != 'home') {
		document.body.classList = 'activated active-' +target;
	} else {
		document.body.classList = 'activated';
	}
	lastFrame(poly, frames, 5);
	activateMenuItems()
	menuInProgress()
}

</script>
<script type="x-shader/x-vertex" id="vertexshader">
	attribute float size;
	attribute vec3 customColor;
	varying vec3 vColor;
	void main() {
		vColor = customColor;
		vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
		gl_PointSize = size * ( 300.0 / -mvPosition.z );
		gl_Position = projectionMatrix * mvPosition;
	}

</script>
<script type="x-shader/x-fragment" id="fragmentshader">
	uniform vec3 color;
	uniform sampler2D texture;
	varying vec3 vColor;
	void main() {
		gl_FragColor = vec4( color * vColor, 1.0 );
		gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );
		if ( gl_FragColor.a < ALPHATEST ) discard;
	}
</script>

<script src="js/gallery.js"></script>


</body>
</html>
